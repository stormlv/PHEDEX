#!/bin/bash

export TESTBED_ROOT=/data/TESTBED_ROOT
export PERL5LIB=$TESTBED_ROOT/sw/slc6_amd64_gcc461/cms/PHEDEX-lifecycle/1.2.1/T0/perl_lib:$TESTBED_ROOT/sw/slc6_amd64_gcc461/cms/PHEDEX-lifecycle/1.2.1/perl_lib:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/mod_perl2/2.0.7-comp2/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-linux-pid/0.04-comp/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-cgi/3.33/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/cms/PHEDEX-admin/4.1.3/perl_lib:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-json-xs/2.3-comp/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-mail-rfc822-address/0.3/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-clone/0.31-comp/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-log-log4perl/1.26-comp/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-dbd-oracle/1.23-comp/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-poe-component-child/1.39/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-compress-zlib/1.42-comp/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-xml-parser/2.41-comp/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-time-hires/1.9715-comp/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-text-glob/0.06/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-monalisa-apmon/2.2.18/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-common-sense/3.4/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-log-dispatch-filerotate/1.19-comp/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-xml-dom/1.44/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-poe/1.287/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-dbi/1.609-comp/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-log-dispatch/2.26-comp/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-params-validate/1.00-comp/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-module-build/0.3800-comp/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-test-simple/0.98/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-attribute-handlers/0.91/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-extutils-cbuilder/0.280202/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-cpan-meta/2.110930-comp/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-module-metadata/1.000004-comp/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-test-harness/3.23/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-perl-ostype/1.002/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-extutils-parsexs/2.2206/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-ipc-cmd/0.72/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-parse-cpan-meta/1.4401/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-module-load-conditional/0.44/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-version/0.91-comp/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-params-check/0.28/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-module-load/0.18/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-locale-maketext-simple/0.21/lib/perl5:$TESTBED_ROOT/sw/slc6_amd64_gcc461/external/p5-extutils-makemaker/6.63_02/lib/perl5

find $TESTBED_ROOT/phedex/perl_lib/PHEDEX/Tests -name '*.pm' -exec perl {} \; | grep 'ok'

echo "Grep for 'not ok'";